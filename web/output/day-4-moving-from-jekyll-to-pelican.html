<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Day 4: Moving from Jekyll to Pelican</title>
        <link rel="stylesheet" href="https://simulatine.github.io/100DaysOfCode/theme/css/main.css" />
</head>

<body id="index" class="home">
<a href="https://github.com/simulatine/100DaysOfCode">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="https://simulatine.github.io/100DaysOfCode/">Simulatine's 100 Days of Code Blog <strong>Learning and having fun with code</strong></a></h1>
                <nav><ul>
                    <li><a href="https://simulatine.github.io/100DaysOfCode/pages/about-this-site.html">About This Site</a></li>
                    <li class="active"><a href="https://simulatine.github.io/100DaysOfCode/category/posts.html">Posts</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://simulatine.github.io/100DaysOfCode/day-4-moving-from-jekyll-to-pelican.html" rel="bookmark"
           title="Permalink to Day 4: Moving from Jekyll to Pelican">Day 4: Moving from Jekyll to Pelican</a></h1>
<a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="Simulatine">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-05-10T00:00:00+01:00">
                Published: Sunday, 10 May 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://simulatine.github.io/100DaysOfCode/author/simulatine.html">Simulatine</a>
        </address>
<p>In <a href="https://simulatine.github.io/100DaysOfCode/category/posts.html">Posts</a>.</p>

</footer><!-- /.post-info -->      <h2>Trying Pelican</h2>
<p>I am trying out using <a href="https://docs.getpelican.com/en/stable/">Pelican</a> to
create this site, as a replacement for <a href="https://jekyllrb.com/">Jekyll</a> with the
<a href="https://github.com/jekyll/minima">Minima</a> theme, provided by default with
GitHub Pages. Pelican is a static site generator, and is conceptually very
similar to Jekyll - it converts simple text files in
<a href="https://daringfireball.net/projects/markdown/">Markdown</a> format into a
fully fledged website. But Pelican is Python based, which feels a lot more
natural to me.</p>
<h2>Installing Pelican</h2>
<p>I started by installing the pelican and markdown libraries:</p>
<div class="highlight"><pre><span></span><code>pip install pelican markdown
</code></pre></div>


<p>I then followed instructions at the
<a href="https://docs.getpelican.com/en/stable/quickstart.html#installation">Pelican quickstart guide</a> to
create and configure my site.</p>
<p>I first created a folder for my website:</p>
<div class="highlight"><pre><span></span><code>mkdir C:\Users\Simulatine\Documents\Git\100DaysOfCode\web
</code></pre></div>


<p>I went to the website folder and ran <code>pelican-quickstart</code> to create the initial structure</p>
<div class="highlight"><pre><span></span><code>cd C:\Users\Simulatine\Documents\Git\100DaysOfCode\web
pelican-quickstart

Welcome to pelican-quickstart v4.2.0.

This script will help you create a new Pelican-based website.
Please answer the following questions so this script can generate the files
needed by Pelican.

&gt; Where do you want to create your new web site? [.]
&gt; What will be the title of this web site? Simulatine&#39;s 100 Days of Code
&gt; Who will be the author of this web site? Simulatine
&gt; What will be the default language of this web site? [English]
&gt; Do you want to specify a URL prefix? e.g., https://example.com   (Y/n) Y
&gt; What is your URL prefix? (see above example; no trailing slash) https://simulatine.github.io/100DaysOfCode/
&gt; Do you want to enable article pagination? (Y/n)
&gt; How many articles per page do you want? [10]
&gt; What is your time zone? [Europe/Paris] Europe/London
&gt; Do you want to generate a tasks.py/Makefile to automate generation and publishing? (Y/n)
&gt; Do you want to upload your website using FTP? (y/N)
&gt; Do you want to upload your website using SSH? (y/N)
&gt; Do you want to upload your website using Dropbox? (y/N)
&gt; Do you want to upload your website using S3? (y/N)
&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N)
&gt; Do you want to upload your website using GitHub Pages? (y/N) Y
&gt; Is this your personal page (username.github.io)? (y/N) n
Done. Your new project is available at C:\Users\Simulatine\Documents\Git\100DaysOfCode\web
</code></pre></div>


<p>This created subfolders called <code>content</code> and <code>output</code>, as well as a Makefile and some default Python scripts <code>pelicanconf.py</code>, <code>publishconf.py</code> and <code>tasks.py</code>.</p>
<div class="highlight"><pre><span></span><code>dir

Volume in drive C has no label.
Volume Serial Number is 5C84-C174

Directory of C:\Users\Simulatine\Documents\Git\100DaysOfCode\web

2020-05-10  15:34    &lt;DIR&gt;          .
2020-05-10  15:34    &lt;DIR&gt;          ..
2020-05-10  15:11    &lt;DIR&gt;          content
2020-05-10  14:54             2,914 Makefile
2020-05-10  15:17    &lt;DIR&gt;          output
2020-05-10  15:23               878 pelicanconf.py
2020-05-10  14:54               632 publishconf.py
2020-05-10  14:54             3,615 tasks.py
           4 File(s)          8,039 bytes
           4 Dir(s)  51,526,713,344 bytes free
</code></pre></div>


<p>As suggested in the
<a href="https://docs.getpelican.com/en/stable/quickstart.html#installation">quickstart guide</a>,
I next created a trial web source page <code>keyboard-review.md</code> in the <code>content</code>
folder, with some markdown content:</p>
<div class="highlight"><pre><span></span><code>Title: My First Review
Date: 2020-05-08 10:20
Category: Review

Following is a review of my favorite mechanical keyboard.
</code></pre></div>


<p>I attempted to generate the site output by going to the top website folder and
running pelican against the <code>content</code> folder.</p>
<div class="highlight"><pre><span></span><code>pelican content
</code></pre></div>


<p>I received the following notification:</p>
<div class="highlight"><pre><span></span><code>WARNING: Docutils has no localization for &#39;english&#39;. Using &#39;en&#39; instead.
ERROR: Skipping C:\Users\Simulatine\Documents\Git\100DaysOfCode\web\content\keyboard-review.md: could not find information about &#39;title&#39;
Done: Processed 0 articles, 0 drafts, 0 pages, 0 hidden pages and 0 draft pages in 0.62 seconds.
</code></pre></div>


<p>Hmm . Two immediate errors. It turns out that the default language choice
"English" in pelican-quickstart should have been "en". I had to go to
pelicanconf.py, and change the line:</p>
<div class="highlight"><pre><span></span><code>DEFAULT_LANG = &#39;English&#39;
</code></pre></div>


<p>To</p>
<div class="highlight"><pre><span></span><code>DEFAULT_LANG = &#39;en&#39;
</code></pre></div>


<p>I also realised the pelican was not finding the 'title' metadata in my initial
file. After some investigation, I noticed that when I copied and pasted the
suggested initial file contents from the pelican quickstart guide into my
Markdown editor Typora, it converted it to a code block by automatically adding
triple backticks before and after the pasted text. So my Markdown file
contents in <code>keyboard-review.md</code> were actually:</p>
<div class="highlight"><pre><span></span><code>```
Title: My First Review
Date: 2020-05-08 10:20
Category: Review

Following is a review of my favorite mechanical keyboard.
```
</code></pre></div>


<p>I had to remove the leading and trailing backtick lines and resave the markdown
file. I could then retry generating the site output:</p>
<div class="highlight"><pre><span></span><code>pelican content
Done: Processed 1 article, 0 drafts, 0 pages, 0 hidden pages and 0 draft pages in 0.31 seconds.
</code></pre></div>


<p>This time it worked! I had an entire web site in the <code>output</code> folder. I was
expecting possibly a single HTML file, but it actually created a significant
amount of boilerplate output. I was able to view a local copy of the website
by launching the pelican built-in web server</p>
<div class="highlight"><pre><span></span><code>pelican --listen
</code></pre></div>


<p>Once this was running, I could preview the site by navigating to the URL
http://localhost:8000/ on my local browser:</p>
<p><img alt="Pelican Initial Screenshot" src="https://simulatine.github.io/100DaysOfCode/images/2020-05-10_Pelican_Initial_Screenshot.png"></p>
<p>Excellent! I like how this appears, and it took maybe 20-30 minutes to get this
up and running.</p>
<h2>Publish to GitHub Pages</h2>
<p>I was immediately sold on Pelican - I now wanted to publish this publicly to my
GitHub Pages site.</p>
<p>I followed the instructions in the
<a href="https://docs.getpelican.com/en/4.2.0/tips.html#project-pages">Pelican docs</a></p>
<p>First of all, I installed the Python <code>ghp-import</code> tool</p>
<div class="highlight"><pre><span></span><code>pip install ghp-import
</code></pre></div>


<p>I used ghp-import to create a local <code>gh-pages</code> branch with the content of the
<code>output</code> folder. If the branch already exists, this command will update the
branch with the latest files in <code>output</code>.</p>
<div class="highlight"><pre><span></span><code>ghp-import output
</code></pre></div>


<p>I then pushed the <code>gh-pages</code> branch from my local desktop to my GitHub
repository</p>
<div class="highlight"><pre><span></span><code>git push origin gh-pages
</code></pre></div>


<p>Finally, I went to my GitHub repository and in Settings, GitHub Pages, I
changed the source from the Master branch docs folder (used by Jekyll) to the
gh-pages branch.</p>
<p>My <a href="https://simulatine.github.io/100DaysOfCode/">site</a> was now visible
at https://simulatine.github.io/100DaysOfCode/</p>
<p>I finally cleaned up my old Jekyll site by deleting everything in the old docs
folder with <code>git rm</code>, and resyncing my repository:</p>
<div class="highlight"><pre><span></span><code>git push origin master
</code></pre></div>


<h2>Conclusion</h2>
<p>I found Pelican to be simple to use, and a lot more Pythonesque than Jekyll.
I'll be sticking with this for a while.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://python.org/">Python</a></li>
                            <li><a href="https://www.pygame.org/docs/">Pygame</a></li>
                            <li><a href="https://www.100daysofcode.com/">100DaysOfCode</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/simulatine">Twitter</a></li>
                            <li><a href="https://github.com/simulatine/100DaysOfCode">GitHub</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>